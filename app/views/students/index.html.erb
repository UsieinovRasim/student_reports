<% if user_signed_in? %>
  <h1 class="text-2xl font-bold mb-4">Список студентов</h1>

  <%= link_to 'Добавить студента', new_student_path, class: "py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500" %>
  <div class="my-6">
    <table class="table-auto w-full">
      <thead>
      <tr>
        <th class="py-2 px-4 bg-gray-100 border-b border-gray-200">№</th>
        <th class="py-2 px-4 bg-gray-100 border-b border-gray-200">Имя</th>
        <th class="py-2 px-4 bg-gray-100 border-b border-gray-200">Фамилия</th>
        <th class="py-2 px-4 bg-gray-100 border-b border-gray-200">Email</th>
        <th class="py-2 px-4 bg-gray-100 border-b border-gray-200">Действия</th>
      </tr>
      </thead>
      <tbody>
      <% @students.each do |student| %>
        <tr>
          <td class="border px-4 py-2"><%= link_to student.id, student %></td>
          <td class="border px-4 py-2 break-words"><%= student.first_name %></td>
          <td class="border px-4 py-2"><%= student.last_name %></td>
          <td class="border px-4 py-2"><%= student.email %></td>
          <td class="border px-4 py-2">
            <%= link_to 'Редактировать', edit_student_path(student), class: "text-indigo-600 hover:text-indigo-900" %>
            <%= button_to 'Удалить', student_path(student), method: :delete, data: { turbo_confirm: 'Вы уверены?' }, class: "text-red-600 hover:text-red-900" %>
          </td>
        </tr>
      <% end %>
      </tbody>
    </table>
  </div>
<% end %>
